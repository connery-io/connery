# Create connector

This guide will teach you how to create a new connector using GitHub Codespaces.
However, you can use any other development environment. The steps are the same.

### 1. Create a new GitHub repository

The repository will be used to store the connector code and configuration.

Open the [GitHub repository creation page](https://github.com/new) and follow the instructions below.

1. Select the **Owner** of the repository.
2. Enter the **Repository name**. This is also the name of your future connector.
   We recommend using the snake case naming convention.
   For example, if you decide to call your connector **My first connector**, the repository name should be `my-first-connector`.

:::info
The connector will have an identification key comprising your GitHub username, repository name, and branch name.
For example: `<username>/<repository-name>@main`.
:::

![Slack App Configuration](/img/create-connector/create-repository.png)

3. Select the **Public** repository visibility.
4. Select the **Add a README file** option to initialize the repository with a README file.
   It will also create a new branch default for the repository.
5. Choose the **MIT License** as the license for the repository.
6. Please ensure the branch name is `main` as it is used across the docs.
   You can use any branch name but must be aware of it when following the docs.
7. Click the **Create repository** button.

:::tip
We sincerely encourage making connectors public and open-source under the MIT license
to make them available to the community and grow the [ecosystem](/docs/introduction/ecosystem) together :heart:
:::

### 2. Create a codespace

Codespace will be used as a development environment for the connector.
This is the fastest way to start connector development without installing software on your machine.

Use the green **Code** button in the top right corner of your repository.
Then open the **Codespaces** tab and click **Create codespace on main**.
It will start the codespace creation process.

:::info
GitHub Codespaces are [free of charge for 120 hours per month](https://docs.github.com/en/billing/managing-billing-for-github-codespaces/about-billing-for-github-codespaces#monthly-included-storage-and-core-hours-for-personal-accounts) for personal accounts.
The codespace will stop running after a period of inactivity to safe resources.
[By default, this period is 30 minutes.](https://docs.github.com/en/codespaces/customizing-your-codespace/setting-your-timeout-period-for-github-codespaces?tool=webui#about-the-idle-timeout)
:::

If you prefer another development environment, skip this
step, clone the repository, open it in your favorite IDE, and continue with
the next steps. In this case, ensure you have the latest stable version of Node.js installed.

### 3. Initialize the connector repository

To make it very easy to start with the connector development, we created a CLI tool to initialize the connector repository for you.
After you answer a couple of questions, the CLI tool will generate everything needed for the connector development.

Run the following command in the terminal and follow the instructions.
This command will download the latest version of Connery CLI and run the initialization process.

```
npx connery@latest init
```

Once the initialization is finished, you should see the new files added to the repository.
The newly initialized connector is fully functional.
The entry point of the connector is the `./index.js` file that contains the connector definition.
Also, you can find the sample action defined in the `./actions/sample-action.js` file.
The sample action sums up two numbers and returns the result.
It is a good starting point for exploring and experimenting with the connector.
Remove the sample action when you don't need it anymore.

### 4. Install dependencies

To continue the connector development, you must install all the dependencies defined in the `./package.json` file.
Run the following command in the terminal to install the dependencies.

```
npm install
```

During the development of the connector, you may need to install additional dependencies.
For example, the `axios` package to make HTTP requests to external services.
To install it and add it to the `package.json` file, run the following command:

```
npm install axios --save
```

In the same way, you can install any other NPM package.

### 5. Add a new action to the connector

And now, the fun part starts: creating your first action in the connector.
To add a new empty action, use the following command from the Connery CLI:

```
npx connery@latest add-action
```

You will be asked a couple of questions about the action you want to add.
After all the necessary information is provided, Connery CLI will add the action to the connector
by making a couple of changes to the files of your repository:

- A new action file will be added to the `./actions` folder.
- The new action will be included in the connector definition in the `./index.js` file.
- A new test file will be added to the `./tests/actions` folder.
- The new action will be added to the "Available actions" table in the `./README.md` file.

Now, you can implement the logic of the action. Open the action definition file `./actions/<action-name>.js`,
define input and output parameters of the action and implement the logic of the action in the `handler` function.

:::note Helpful resources

- Use the sample action as an example.
- Check the [connector definition schema](https://github.com/connery-io/connery/blob/main/packages/lib/src/connector.schema.ts)
  to understand how the definition of the connector and action works.
- Use the [existing open-source connectors](/docs/connectors) as an inspiration and example.

:::

### 6. Test action

To test the action, you can use the Connery CLI as well.
Run the following command in the terminal to run the action.
You will be asked to select the action you want to run, provide configuration parameters for the connector, and input parameters for the action.

```
npx connery@latest run-action
```

:::info

After the action is successfully run, the CLI will give you a shortcut command to run the action with all the parameters you provided.
It will save you time, especially during the intensive development and testing.

:::

### 7. Build connector

To install the connector on the runner, you must build it first.
The build process validates the connector definition, runs tests,
and builds the connector and its dependencies together in a way the runner can use.

To build the connector, run the following command in the terminal:

```
npm run build
```

The build process will create a new `./dist/connector.js` file that contains all the connector code and dependencies.
This file must be committed to the repository so the runner can download and use it.

### 8. Commit and push the files

Run the following command in the terminal to commit and push all the files to GitHub.

```
git add . && git commit -m "Init connector repository" && git push origin main
```

:::caution
Please make sure you delete all the secrets you used during testing before pushing the changes to the repository.
:::

### Next steps

Now, you have a fully functional connector that can be installed on the runner and used by any client.

2. [Install the connector on the runner.](/docs/quick-start/install-connector-on-the-runner)
3. [Use clients](/docs/quick-start/use-clients-to-call-actions) to run actions from the connector.
